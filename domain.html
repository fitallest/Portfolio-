<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đăng Ký Tên Miền Giá Rẻ & Gợi Ý Tên Miền - Fi.tallest</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Thư viện canvas-confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5; /* Nền nhẹ nhàng */
            color: #333;
        }

        /* Hero Section */
        .hero-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); /* Gradient tím xanh */
            color: white;
            padding: 80px 20px;
            text-align: center;
            border-bottom-left-radius: 50px;
            border-bottom-right-radius: 50px;
            margin-bottom: 40px;
            position: relative;
            overflow: hidden;
        }
        .hero-section::before { /* Hiệu ứng sóng/đồ họa */
            content: '';
            position: absolute;
            top: -10%;
            left: -10%;
            width: 120%;
            height: 120%;
            background: radial-gradient(circle at top left, rgba(255,255,255,0.1) 0%, transparent 50%);
            transform: rotate(-15deg);
            z-index: 0;
        }
        .hero-section h1 {
            font-size: 3.2rem;
            font-weight: 800;
            margin-bottom: 20px;
            line-height: 1.2;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            position: relative;
            z-index: 1;
        }
        .hero-section p {
            font-size: 1.4rem;
            margin-bottom: 40px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            position: relative;
            z-index: 1;
        }

        /* Search Section */
        .domain-search-container {
            background-color: #ffffff;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            max-width: 900px; /* Tăng chiều rộng */
            margin: -80px auto 40px auto; /* Kéo lên trên hero */
            position: relative;
            z-index: 10;
        }
        .search-input-group {
            display: grid;
            grid-template-columns: 1fr auto; /* Chia cột input và nút */
            gap: 15px;
            margin-bottom: 15px;
        }
         .search-input-group > div { /* Cho phép label và input chiếm hết chiều rộng */
            grid-column: 1 / -1; /* Mặc định chiếm hết */
        }
        @media (min-width: 640px) { /* Trên mobile thì xếp chồng */
             .search-input-group {
                 grid-template-columns: 1fr 1fr auto; /* 3 cột trên desktop */
             }
             .search-input-group > div:nth-child(1) { grid-column: 1 / 2; }
             .search-input-group > div:nth-child(2) { grid-column: 2 / 3; }
             .search-input-group button { grid-column: 3 / 4; align-self: end; height: 52px;} /* Căn nút xuống dưới */
        }

        .search-input {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem; /* Giảm size chữ */
            transition: border-color 0.3s;
        }
        .search-input:focus {
            border-color: #667eea;
            outline: none;
        }
        .domain-search-button {
           /* width: 100%; */ /* Bỏ width 100% */
            padding: 15px 25px;
            background-color: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem; /* Giảm size chữ */
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            white-space: nowrap; /* Ngăn nút xuống dòng */
        }
        .domain-search-button:hover {
            background-color: #5a6fe0;
            transform: translateY(-2px);
        }
        
        /* Suggestion Area */
        .suggestion-results-area {
            margin-top: 30px;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background-color: #f9f9f9;
            min-height: 100px; /* Chiều cao tối thiểu */
        }
        .suggestion-columns {
            display: grid;
            grid-template-columns: 1fr; /* Mặc định 1 cột */
            gap: 30px;
        }
         @media (min-width: 768px) { /* 2 cột trên tablet trở lên */
            .suggestion-columns {
                grid-template-columns: 1fr 1fr;
            }
         }
        .suggestion-column h3 {
            font-size: 1.2rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }
        .suggestion-list {
            max-height: 400px;
            overflow-y: auto;
            padding-right: 10px; /* Khoảng trống cho thanh cuộn */
        }
        .suggestion-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 5px;
            border-bottom: 1px dashed #eee;
        }
        .suggestion-item:last-child {
            border-bottom: none;
        }
        .suggestion-item .domain-name {
            font-weight: 500;
            word-break: break-all; /* Ngăn tên miền dài làm vỡ layout */
            margin-right: 10px;
        }
        .suggestion-item .register-suggestion-btn {
            background-color: transparent;
            color: #667eea;
            border: 1px solid #667eea;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            white-space: nowrap;
        }
        .suggestion-item .register-suggestion-btn:hover {
            background-color: #667eea;
            color: white;
        }

        /* Tabs cho cột gợi ý */
        .tabs-container {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 15px;
        }
        .tab-btn {
            padding: 8px 15px;
            background-color: #e0e0e0;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: background-color 0.3s, color 0.3s;
        }
        .tab-btn:hover {
            background-color: #ccc;
        }
        .tab-btn.active {
            background-color: #667eea;
            color: white;
        }
        .tab-content {
            display: none; /* Ẩn các tab content ban đầu */
        }
        .tab-content.active {
            display: block; /* Hiện tab content active */
        }


        /* General Sections */
        .section-title {
            font-size: 2.5rem;
            font-weight: 700;
            text-align: center;
            color: #333;
            margin-bottom: 40px;
            position: relative;
        }
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background-color: #667eea;
            border-radius: 2px;
        }

        /* Benefit Cards */
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto 60px auto;
        }
        .benefit-card {
            background-color: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            text-align: center;
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            border-top: 5px solid transparent;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .benefit-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.12);
            border-top-color: #667eea;
        }
        .benefit-card .icon-wrapper {
            background-color: #e0e7ff; /* Màu nền icon */
            border-radius: 50%;
            padding: 15px;
            display: inline-flex;
            margin-bottom: 20px;
            color: #667eea; /* Màu icon */
        }
        .benefit-card h3 {
            font-size: 1.5rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
        }
        .benefit-card p {
            font-size: 1rem;
            color: #555;
            line-height: 1.6;
            flex-grow: 1; /* Đẩy nội dung lên trên */
        }

        /* Price Tables */
        .price-table-container {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            overflow-x: auto;
            margin: 0 auto 60px auto;
            max-width: 1200px;
        }
        .price-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.95rem;
            min-width: 700px; /* Đảm bảo đủ rộng cho di động */
        }
        .price-table th, .price-table td {
            padding: 15px;
            text-align: center;
            border-bottom: 1px solid #f0f2f5;
            vertical-align: middle;
        }
        .price-table thead th {
            background-color: #667eea;
            color: white;
            font-weight: 700;
            white-space: nowrap;
            padding: 20px 15px;
        }
        .price-table tbody tr:hover {
            background-color: #f9f9f9;
        }
        .price-table tbody td:first-child {
            text-align: left;
            font-weight: 600;
            color: #333;
        }
        .price-table .price-value {
            font-weight: bold;
            color: #d35400;
        }
        /* Cập nhật: Đổi nút thành button để mở modal */
        .register-button {
            background-color: #28a745; /* Xanh lá */
            color: white;
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: bold;
            border: none; /* Thêm vì là button */
            cursor: pointer; /* Thêm vì là button */
            display: inline-block;
            transition: background-color 0.3s, transform 0.2s;
            white-space: nowrap;
            margin-top: 10px;
        }
        .register-button:hover {
            background-color: #218838;
            transform: translateY(-2px);
        }
        .free-text {
            color: #28a745;
            font-weight: bold;
        }
        .note {
            text-align: center;
            font-style: italic;
            color: #777;
            margin-top: 20px;
        }

        /* --- CSS CHO MODAL ĐĂNG KÝ --- */
        .modal {
          display: none; 
          position: fixed; 
          z-index: 1000; 
          left: 0;
          top: 0;
          width: 100%; 
          height: 100%; 
          overflow: auto; 
          background-color: rgba(0,0,0,0.5); 
        }
        
        .modal-content {
          background-color: #fefefe;
          margin: 5% auto; /* Giảm margin top */
          padding: 25px;
          border: 1px solid #888;
          width: 90%; /* Tăng width cho mobile */
          max-width: 700px; /* Tăng max-width */
          border-radius: 8px;
          position: relative;
          box-shadow: 0 4px 15px rgba(0,0,0,0.2);
          animation-name: animatetop;
          animation-duration: 0.4s
        }

        @keyframes animatetop {
          from {top: -300px; opacity: 0}
          to {top: 0; opacity: 1}
        }
        
        .modal-content h2 {
          margin-top: 0;
          color: #333; /* Đổi màu tiêu đề modal */
          text-align: center;
          margin-bottom: 20px;
          font-size: 1.8rem;
        }
        
        .close-btn {
          color: #aaa;
          float: right;
          font-size: 28px;
          font-weight: bold;
          position: absolute;
          top: 10px;
          right: 20px;
        }
        
        .close-btn:hover,
        .close-btn:focus {
          color: black;
          text-decoration: none;
          cursor: pointer;
        }
        /* --- HẾT CSS MODAL --- */

        /* CSS cho thông báo thành công */
        #success-message {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #28a745;
            color: white;
            padding: 15px 30px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 2000;
            display: none; /* Ẩn ban đầu */
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        #success-message.show {
            display: block;
            opacity: 1;
        }


        /* Responsive */
        @media (max-width: 768px) {
            .hero-section {
                padding: 60px 15px;
                border-bottom-left-radius: 30px;
                border-bottom-right-radius: 30px;
            }
            .hero-section h1 {
                font-size: 2.5rem;
            }
            .hero-section p {
                font-size: 1.1rem;
            }
            .domain-search-container {
                margin: -60px auto 30px auto;
                padding: 20px;
            }
            .section-title {
                font-size: 2rem;
            }
            .benefits-grid {
                grid-template-columns: 1fr;
                padding: 15px;
            }
            .price-table th, .price-table td {
                padding: 10px;
                font-size: 0.85rem;
            }
            .price-table thead th {
                padding: 15px 10px;
            }
            .register-button {
                padding: 8px 15px;
                font-size: 0.9rem;
            }
            /* Modal Responsive */
            .modal-content {
                margin: 10% auto;
            }
            .suggestion-columns { /* Vẫn 1 cột trên tablet nếu cần */
                 grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .hero-section h1 {
                font-size: 2rem;
            }
            .hero-section p {
                font-size: 1rem;
            }
            .domain-search-container {
                padding: 15px;
            }
             .search-input-group {
                 grid-template-columns: 1fr; /* Xếp chồng hoàn toàn trên mobile */
             }
             .search-input-group button { grid-column: 1 / -1; height: auto;} /* Nút chiếm hết và tự động chiều cao */
            .search-input, .domain-search-button {
                font-size: 1rem;
                padding: 12px 15px;
            }
            .section-title {
                font-size: 1.8rem;
            }
            .benefit-card h3 {
                font-size: 1.3rem;
            }
            .benefit-card p {
                font-size: 0.9rem;
            }
             /* Modal Responsive */
            .modal-content {
                padding: 20px;
            }
            .modal-content h2 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body class="bg-gray-50">

    <header class="bg-white/90 sticky top-0 z-50 backdrop-blur-md border-b border-gray-200">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                
                <div class="flex-shrink-0 flex items-center">
                    <a href="index.html" class="text-2xl font-bold text-indigo-600">
                        Fi.tallest 
                    </a>
                </div>
                
                
                <div class="hidden md:flex md:items-center md:space-x-8">
                    <a href="index.html#about" class="text-gray-500 font-medium hover:text-indigo-600 transition duration-150">Giới thiệu</a>
                    <a href="index.html#services" class="text-gray-500 font-medium hover:text-indigo-600 transition duration-150">Dịch vụ</a>
                    <a href="index.html#projects" class="text-gray-500 font-medium hover:text-indigo-600 transition duration-150">Dự án</a>
                    <a href="Hosting.html" class="text-gray-500 font-medium hover:text-indigo-600 transition duration-150">Hosting</a>
                    <!-- Đánh dấu trang hiện tại -->
                    <a href="domain.html" class="text-indigo-600 font-medium transition duration-150">Tên miền</a>
                    <a href="Báo Giá Thiết Kế Website Chuyên Nghiệp.html" class="text-gray-500 font-medium hover:text-indigo-600 transition duration-150">Báo Giá</a>
                    <a href="index.html#contact" class="ml-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                        Liên hệ ngay
                    </a>
                </div>
                
                
                <div class="-mr-2 flex items-center md:hidden">
                    <button type="button" id="mobile-menu-button" class="bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500" aria-expanded="false">
                        <span class="sr-only">Mở menu</span>
                        <i data-lucide="menu" class="h-6 w-6"></i>
                    </button>
                </div>
            </div>
        </nav>

        
        <div class="hidden md:hidden" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="index.html#about" class="text-gray-500 hover:bg-gray-50 hover:text-gray-900 block px-3 py-2 rounded-md text-base font-medium">Giới thiệu</a>
                <a href="index.html#services" class="text-gray-500 hover:bg-gray-50 hover:text-gray-900 block px-3 py-2 rounded-md text-base font-medium">Dịch vụ</a>
                <a href="index.html#projects" class="text-gray-500 hover:bg-gray-50 hover:text-gray-900 block px-3 py-2 rounded-md text-base font-medium">Dự án</a>
                <a href="Hosting.html" class="text-gray-500 hover:bg-gray-50 hover:text-gray-900 block px-3 py-2 rounded-md text-base font-medium">Hosting</a>
                 <!-- Đánh dấu trang hiện tại -->
                <a href="domain.html" class="text-indigo-600 bg-indigo-50 block px-3 py-2 rounded-md text-base font-medium">Tên miền</a>
                <a href="Báo Giá Thiết Kế Website Chuyên Nghiệp.html" class="text-gray-500 hover:bg-gray-50 hover:text-gray-900 block px-3 py-2 rounded-md text-base font-medium">Báo Giá</a>
                <a href="index.html#contact" class="block w-full text-left px-3 py-2 rounded-md text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700">Liên hệ ngay</a>
            </div>
        </div>
    </header>
    
    <main>
        
        <section class="hero-section">
            <div class="max-w-7xl mx-auto relative z-1">
                <h1>Đăng Ký Tên Miền Giá Rẻ & Gợi Ý Tên Miền</h1>
                <p>Tìm kiếm tên miền hoàn hảo cho doanh nghiệp hoặc dự án cá nhân của bạn. Nhập từ khóa và ngành nghề để nhận gợi ý độc đáo!</p>
            </div>
        </section>

        
        <section class="domain-search-container">
            <h2 class="text-2xl font-bold text-center text-gray-800 mb-6">Tìm kiếm & Gợi ý tên miền</h2>
            <!-- Cập nhật: Thêm ô Ngành nghề -->
            <div class="search-input-group">
                 <div>
                    <label for="domainInput" class="block text-sm font-medium text-gray-700 mb-1">Tên miền mong muốn</label>
                    <input type="text" id="domainInput" class="search-input" placeholder="Nhập tên miền hoặc từ khóa (ví dụ: công ty abc)" />
                 </div>
                 <div>
                    <label for="industryInput" class="block text-sm font-medium text-gray-700 mb-1">Ngành nghề (Tùy chọn)</label>
                    <input type="text" id="industryInput" class="search-input" placeholder="Ví dụ: nhựa, thời trang, du lịch..." />
                 </div>
                <button id="searchDomainButton" class="domain-search-button">
                    Tìm kiếm & Gợi ý
                </button>
            </div>
             <!-- Cập nhật: Khu vực hiển thị kết quả -->
            <div id="suggestionResultsArea" class="suggestion-results-area hidden"> 
                <div class="suggestion-columns">
                    <!-- Cột 1: Kết quả trực tiếp -->
                    <div id="column1Results">
                        <h3>Kết quả trực tiếp</h3>
                        <div class="suggestion-list">
                            <p class="text-center text-gray-500 p-4">Nhập tên miền và nhấn nút để xem kết quả.</p>
                        </div>
                    </div>
                    <!-- Cột 2: Gợi ý thông minh -->
                    <div id="column2Results">
                        <h3>Gợi ý khác</h3>
                        <div class="tabs-container" id="suggestionTabs">
                            <!-- Tab buttons sẽ được thêm bằng JS -->
                        </div>
                        <div class="tab-content-container suggestion-list" id="suggestionTabContent">
                             <!-- Tab content sẽ được thêm bằng JS -->
                             <p class="text-center text-gray-500 p-4">Nhập thêm ngành nghề để có gợi ý tốt hơn.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        
        <section class="py-12 bg-gray-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="section-title">NHỮNG LỢI ÍCH KHI ĐĂNG KÝ TÊN MIỀN TẠI Nasani</h2>
                <p class="text-center text-gray-600 mb-10 max-w-3xl mx-auto">
                    Chúng tôi chuẩn hóa toàn bộ quy trình quản lý tên miền bằng công nghệ để mang đến sự thuận tiện và trải nghiệm tối đa cho khách hàng.
                </p>

                <div class="benefits-grid">
                    <div class="benefit-card">
                        <div class="icon-wrapper"><i data-lucide="settings" class="w-8 h-8"></i></div>
                        <h3>Quản Lý Tên Miền</h3>
                        <p>Bạn hoàn toàn chủ động trong việc quản lý và gia hạn dịch vụ tên miền thông qua giao diện web trực quan do chúng tôi cung cấp mà không phải chờ đợi.</p>
                    </div>
                    <div class="benefit-card">
                        <div class="icon-wrapper"><i data-lucide="globe" class="w-8 h-8"></i></div>
                        <h3>Quản Lý DNS</h3>
                        <p>Tính năng DNS trung gian được tích hợp sẵn với giao diện quản lý giúp bạn đơn giản hóa quá trình cài đặt và cập nhật cấu hình bản ghi cho tên miền nhanh chóng.</p>
                    </div>
                    <div class="benefit-card">
                        <div class="icon-wrapper"><i data-lucide="shield-check" class="w-8 h-8"></i></div>
                        <h3>An Toàn Pháp Lý</h3>
                        <p>Đăng ký tên miền tại nhà đăng ký Việt Nam giúp hạn chế những rủi ro về mặt pháp lý, như xảy ra tranh chấp thương hiệu hoặc thiếu chứng từ hợp đồng hóa đơn.</p>
                    </div>
                    <div class="benefit-card">
                        <div class="icon-wrapper"><i data-lucide="line-chart" class="w-8 h-8"></i></div>
                        <h3>Tốt Cho SEO</h3>
                        <p>Theo Google chia sẻ, các doanh nghiệp nên đăng ký tên miền .VN tại địa phương nhằm tăng tính nhận diện vùng hoạt động để bổ trợ cho thứ hạng tìm kiếm trên SEO.</p>
                    </div>
                    <div class="benefit-card">
                        <div class="icon-wrapper"><i data-lucide="award" class="w-8 h-8"></i></div>
                        <h3>Uy Tín Thương Hiệu</h3>
                        <p>Việc sở hữu tên miền .VN giúp tăng tính nhận diện thương hiệu và mức độ uy tín doanh nghiệp của bạn với khách hàng tại Việt Nam cũng như đối tác quốc tế.</p>
                    </div>
                    <div class="benefit-card">
                        <div class="icon-wrapper"><i data-lucide="lock" class="w-8 h-8"></i></div>
                        <h3>Ẩn Thông Tin Tên Miền</h3>
                        <p>Với dịch vụ ID Protection này giúp bạn ẩn các thông tin tên miền quan trọng tránh khỏi sự nhòm ngó của những cá nhân hay tổ chức chuyên đi spam người dùng.</p>
                    </div>
                </div>
            </div>
        </section>

        
        <section class="py-12">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="section-title">BẢNG GIÁ TÊN MIỀN VIỆT NAM (.VN)</h2>
                <div class="price-table-container">
                    <table class="price-table">
                        <thead>
                            <tr>
                                <th>Tên miền</th>
                                <th>ĐĂNG KÝ MỚI<br><small>(đã bao gồm VAT)</small></th>
                                <th>GIA HẠN<br><small>(đã bao gồm VAT)</small></th>
                                <th>CHUYỂN VỀ NASANI<br><small>(đã bao gồm VAT)</small></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>.VN</td>
                                <td class="price-value">820.000đ</td>
                                <td class="price-value">479.000đ</td>
                                <td rowspan="6" class="free-text">Miễn phí</td>
                            </tr>
                            <tr>
                                <td>.COM.VN</td>
                                <td class="price-value">691.000đ</td>
                                <td class="price-value">349.000đ</td>
                            </tr>
                            <tr>
                                <td>.EDU.VN</td>
                                <td class="price-value">397.000đ</td>
                                <td class="price-value">199.000đ</td>
                            </tr>
                            <tr>
                                <td>.GOV.VN</td>
                                <td class="price-value">397.000đ</td>
                                <td class="price-value">199.000đ</td>
                            </tr>
                            <tr>
                                <td>.NET.VN</td>
                                <td class="price-value">691.000đ</td>
                                <td class="price-value">349.000đ</td>
                            </tr>
                            <tr>
                                <td>.INFO.VN</td>
                                <td class="price-value">397.000đ</td>
                                <td class="price-value">199.000đ</td>
                            </tr>
                            <tr>
                                <!-- Cập nhật: Đổi thành button mở modal -->
                                <td colspan="4">
                                    <button class="register-button open-register-modal">ĐĂNG KÝ</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p class="note">Giá trên đã bao gồm VAT 8%.</p>
            </div>
        </section>

        
        <section class="py-12 bg-gray-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="section-title">BẢNG GIÁ TÊN MIỀN QUỐC TẾ</h2>
                <div class="price-table-container">
                    <table class="price-table">
                        <thead>
                            <tr>
                                <th>Tên miền</th>
                                <th>ĐĂNG KÝ MỚI<br><small>(đã bao gồm VAT)</small></th>
                                <th>GIA HẠN<br><small>(đã bao gồm VAT)</small></th>
                                <th>CHUYỂN VỀ NASANI<br><small>(đã bao gồm VAT)</small></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>.COM</td>
                                <td class="price-value">366.120đ</td>
                                <td class="price-value">366.120đ</td>
                                <td class="price-value">366.120đ</td>
                            </tr>
                            <tr>
                                <td>.NET</td>
                                <td class="price-value">415.800đ</td>
                                <td class="price-value">415.800đ</td>
                                <td class="price-value">415.800đ</td>
                            </tr>
                            <tr>
                                <td>.INFO</td>
                                <td class="price-value">680.400đ</td>
                                <td class="price-value">680.400đ</td>
                                <td class="price-value">680.400đ</td>
                            </tr>
                            <tr>
                                <td>.ORG</td>
                                <td class="price-value">405.000đ</td>
                                <td class="price-value">405.000đ</td>
                                <td class="price-value">405.000đ</td>
                            </tr>
                            <tr>
                                <td>.BIZ</td>
                                <td class="price-value">583.200đ</td>
                                <td class="price-value">583.200đ</td>
                                <td class="price-value">583.200đ</td>
                            </tr>
                            <tr>
                                <td>.ME</td>
                                <td class="price-value">691.200đ</td>
                                <td class="price-value">691.200đ</td>
                                <td class="price-value">691.200đ</td>
                            </tr>
                            <tr>
                                <!-- Cập nhật: Đổi thành button mở modal -->
                                <td colspan="4">
                                     <button class="register-button open-register-modal">ĐĂNG KÝ</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p class="note">Giá trên đã bao gồm VAT 8%.</p>
            </div>
        </section>

    </main>

    
    <footer class="bg-gray-900">
        <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
            <p class="text-center text-base text-gray-400">&copy; 2025 Fi.tallest. Mọi quyền được bảo lưu.</p>
        </div>
    </footer>

    
    <div class="fixed right-4 top-1/2 -translate-y-1/2 z-[1000] flex flex-col gap-3">
        
        <a href="tel:0909876817" 
           class="bg-indigo-600 text-white p-3 rounded-full shadow-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition duration-300 ease-in-out transform hover:scale-110"
           aria-label="Gọi ngay"
           title="Gọi ngay (0909876817)">
            <i data-lucide="phone" class="w-6 h-6"></i>
        </a>
        
        
        <a href="https://zalo.me/0909876817" 
           target="_blank" 
           rel="noopener noreferrer"
           class="bg-blue-500 text-white p-3 rounded-full shadow-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-300 ease-in-out transform hover:scale-110"
           aria-label="Nhắn Zalo"
           title="Nhắn Zalo (0909876817)">
            <i data-lucide="message-circle" class="w-6 h-6"></i>
        </a>
    </div>

    <!-- Modal Đăng Ký Tư Vấn -->
    <div id="registerModal" class="modal">
        <div class="modal-content">
            <span class="close-btn close-register-modal">&times;</span>
            <h2>Đăng ký tư vấn tên miền</h2> <!-- Cập nhật tiêu đề modal -->
            
            <form id="registrationForm" action="https://formspree.io/f/xldojlkn" method="POST" class="mt-6 space-y-6">
                
                <input type="hidden" name="_gotcha"> 
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="modal_name" class="block text-sm font-medium text-gray-700">Họ và tên</label>
                        <div class="mt-1">
                            <input type="text" name="Họ tên" id="modal_name" autocomplete="name" class="py-3 px-4 block w-full shadow-sm text-gray-900 focus:ring-indigo-500 focus:border-indigo-500 border-gray-300 rounded-md">
                        </div>
                    </div>
                    <div>
                        <label for="modal_phone" class="block text-sm font-medium text-gray-700">
                            Số điện thoại <span class="text-red-500">(Bắt buộc)</span>
                        </label>
                        <div class="mt-1">
                            <input type="tel" name="Số điện thoại" id="modal_phone" autocomplete="tel" required class="py-3 px-4 block w-full shadow-sm text-gray-900 focus:ring-indigo-500 focus:border-indigo-500 border-gray-300 rounded-md">
                        </div>
                    </div>
                </div>

                <!-- Bỏ fieldset Dịch vụ quan tâm -->

                <!-- Nội dung thêm (sẽ tự động điền tên miền) -->
                <div>
                    <label for="modal_message" class="block text-sm font-medium text-gray-700">Nội dung yêu cầu</label>
                    <div class="mt-1">
                        <textarea id="modal_message" name="Nội dung thêm" rows="4" class="py-3 px-4 block w-full shadow-sm text-gray-900 focus:ring-indigo-500 focus:border-indigo-500 border border-gray-300 rounded-md" placeholder="Ví dụ: Tôi muốn đăng ký tên miền abc.com"></textarea>
                    </div>
                </div>
                 
                <div id="form-status" class="text-center text-sm"></div>
                
                <div class="text-right">
                    <button type="submit" id="submitButton" class="inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50">
                        <i data-lucide="send" class="mr-2 -ml-1 h-5 w-5"></i>
                        Gửi yêu cầu đăng ký
                    </button>
                </div>
            </form>
        </div>
    </div>
    <!-- HẾT MODAL -->
    
    
    <div id="success-message">
        Yêu cầu đã được gửi! Chúng tôi sẽ liên hệ lại sớm.
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons(); 

            // === SCRIPT MENU MOBILE ===
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            if (mobileMenuButton && mobileMenu) { 
                 const mobileMenuIcon = mobileMenuButton.querySelector('i');
                mobileMenuButton.addEventListener('click', () => {
                    const isExpanded = mobileMenuButton.getAttribute('aria-expanded') === 'true';
                    mobileMenuButton.setAttribute('aria-expanded', !isExpanded);
                    mobileMenu.classList.toggle('hidden');
                    if (mobileMenuIcon) {
                        mobileMenuIcon.setAttribute('data-lucide', isExpanded ? 'menu' : 'x');
                    }
                    lucide.createIcons(); 
                });
                document.querySelectorAll('#mobile-menu a').forEach(link => {
                    link.addEventListener('click', () => {
                        if (link.href && (link.href.includes('#') || !link.href.includes(window.location.pathname.split('/').pop()))) {
                            mobileMenuButton.setAttribute('aria-expanded', 'false');
                            mobileMenu.classList.add('hidden');
                             if (mobileMenuIcon) mobileMenuIcon.setAttribute('data-lucide', 'menu');
                            lucide.createIcons();
                        }
                    });
                });
            }
            // === HẾT SCRIPT MENU MOBILE ===

            // === SCRIPT GỢI Ý TÊN MIỀN ===
            const domainInput = document.getElementById('domainInput');
            const industryInput = document.getElementById('industryInput'); 
            const searchDomainButton = document.getElementById('searchDomainButton');
            const suggestionResultsArea = document.getElementById('suggestionResultsArea');
            const col1ResultsDiv = document.getElementById('column1Results').querySelector('.suggestion-list');
            const col2TabsDiv = document.getElementById('suggestionTabs');
            const col2ContentDiv = document.getElementById('suggestionTabContent');
            const modalMessageTextarea = document.getElementById('modal_message'); 

            // Hàm xóa dấu tiếng Việt
            function removeAccents(str) {
              return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/đ/g, "d").replace(/Đ/g, "D");
            }

            // Hàm xử lý từ khóa: xóa dấu, thay khoảng trắng/ký tự đặc biệt bằng '-', xóa dấu '-' thừa
            function processKeyword(input) {
                if (!input) return '';
                let processed = removeAccents(input.trim().toLowerCase());
                // CẬP NHẬT: Không thay thế '.' nếu nó nằm giữa các chữ cái/số (cho phép user nhập .com)
                // Chỉ thay thế các ký tự không phải chữ/số/dấu gạch nối bằng '-'
                processed = processed.replace(/[^a-z0-9\-]+/g, '-'); 
                processed = processed.replace(/-+/g, '-'); // Thay nhiều dấu -- thành 1 dấu -
                processed = processed.replace(/^-+|-+$/g, ''); // Xóa dấu - ở đầu/cuối
                return processed;
            }
            
            // CẬP NHẬT: Hàm xử lý từ khóa cho gợi ý (ghép liền, không có dấu '-')
             function processKeywordForCombine(input) {
                if (!input) return '';
                let processed = removeAccents(input.trim().toLowerCase());
                // Xóa tất cả ký tự không phải chữ cái hoặc số
                processed = processed.replace(/[^a-z0-9]+/g, ''); 
                return processed;
            }


            // Danh sách đuôi tên miền phổ biến
            const commonTLDs = ['.com', '.vn', '.net', '.com.vn', '.info', '.org', '.store', '.online', '.shop', '.xyz', '.site'];
            const vnTLDs = ['.vn', '.com.vn', '.net.vn', '.info.vn', '.edu.vn', '.gov.vn']; // Để phân loại VN

            // CẬP NHẬT: Mở rộng từ khóa ngành nghề
            const industryKeywords = {
                'nhua': ['plastic', 'poly', 'plas'],
                'thoi trang': ['fashion', 'style', 'boutique', 'shop', 'store', 'mode'],
                'du lich': ['travel', 'tour', 'booking', 'trip', 'holiday'],
                'xay dung': ['construction', 'build', 'decor', 'home', 'solution', 'group', 'cons'],
                'giao duc': ['edu', 'school', 'academy', 'learn', 'study'],
                'bat dong san': ['real', 'land', 'property', 'bds', 'homes', 'realty'],
                'noi that': ['interior', 'decor', 'furniture', 'design'],
                'thuc pham': ['food', 'kitchen', 'mart', 'deli'],
                'my pham': ['beauty', 'cosmetic', 'spa', 'skin'],
                'cong nghe': ['tech', 'solution', 'soft', 'data', 'it'],
                'van tai': ['logistics', 'trans', 'ship', 'cargo']
                // Thêm các ngành khác nếu cần
            };

            // CẬP NHẬT: Hàm tạo các gợi ý thông minh
            function generateSmartSuggestions(keyword, industry) {
                const suggestions = new Set(); 
                const keywordProcessedHyphen = processKeyword(keyword); // Dùng cho các gợi ý có thể có gạch nối
                const keywordProcessedCombine = processKeywordForCombine(keyword); // Dùng để ghép liền
                const industryProcessedHyphen = processKeyword(industry);
                const industryProcessedCombine = processKeywordForCombine(industry);

                // 1. Keyword gốc + TLDs (Đã có ở cột 1, không cần thêm lại)
                // commonTLDs.forEach(tld => suggestions.add(keywordProcessedHyphen + tld));

                // 2. Keyword + Ngành (Ưu tiên ghép liền)
                if (industryProcessedCombine) {
                    // Lấy từ tiếng Anh hoặc dùng từ gốc (đã xử lý)
                    const industryENKeywords = industryKeywords[industryProcessedHyphen] || [industryProcessedCombine]; 
                    
                    industryENKeywords.forEach(indKey => {
                        // Ghép liền keyword + ngành
                        commonTLDs.forEach(tld => {
                            suggestions.add(keywordProcessedCombine + indKey + tld); 
                        });
                        // Ghép liền ngành + keyword (ít phổ biến hơn)
                        // commonTLDs.forEach(tld => {
                        //     suggestions.add(indKey + keywordProcessedCombine + tld);
                        // });

                         // Ghép keyword-ngành (ít hơn)
                         if (keywordProcessedHyphen && indKey) { // Chỉ thêm nếu cả 2 có giá trị
                            commonTLDs.slice(0, 4).forEach(tld => { // Chỉ với các TLD phổ biến nhất
                                suggestions.add(keywordProcessedHyphen + '-' + indKey + tld);
                            });
                         }
                    });
                }

                // 3. Thêm hậu tố/tiền tố phổ biến (Ưu tiên ghép liền)
                 const commonSuffixes = ['vn', 'sg', 'hcm', 'hanoi', 'group', 'global', 'tech', 'solution', 'shop', 'store', 'pro', 'plus'];
                 commonSuffixes.forEach(suffix => {
                     commonTLDs.forEach(tld => suggestions.add(keywordProcessedCombine + suffix + tld));
                 });
                 const commonPrefixes = ['the', 'my', 'best', 'top', 'go', 'get'];
                 commonPrefixes.forEach(prefix => {
                     commonTLDs.forEach(tld => suggestions.add(prefix + keywordProcessedCombine + tld));
                 });
                
                 // Thêm một số biến thể có gạch nối (ít hơn)
                 ['group', 'global', 'tech', 'solution'].forEach(suffix => {
                    if(keywordProcessedHyphen){
                        commonTLDs.slice(0, 2).forEach(tld => suggestions.add(keywordProcessedHyphen + '-' + suffix + tld));
                    }
                 });


                // Lọc bỏ các tên miền không hợp lệ và đảm bảo không có "--"
                const validSuggestions = Array.from(suggestions).filter(domain => {
                    if (domain.includes('--')) return false; // Loại bỏ "--"
                    const parts = domain.split('.');
                    // Đảm bảo có ít nhất 2 phần, phần đầu và cuối không rỗng
                    return parts.length >= 2 && parts[0] !== '' && parts[parts.length -1] !== ''; 
                });

                // Giới hạn số lượng gợi ý để không quá dài
                return validSuggestions.slice(0, 50); // Lấy tối đa 50 gợi ý
            }

            // Hàm hiển thị kết quả
            function displayResults(keyword, industry, userTLD) {
                col1ResultsDiv.innerHTML = ''; // Xóa cột 1 cũ
                col2TabsDiv.innerHTML = ''; // Xóa tabs cũ
                col2ContentDiv.innerHTML = ''; // Xóa content cũ

                let col1Domains = new Set(); // Dùng Set để tự động loại bỏ trùng lặp

                // Ưu tiên tên miền người dùng nhập nếu có TLD hợp lệ
                if (userTLD) {
                     const userDomain = keyword + userTLD;
                     // Kiểm tra hợp lệ đơn giản (tránh -- và các trường hợp cơ bản)
                     if (!userDomain.includes('--')) {
                        col1Domains.add(userDomain);
                     }
                }

                // Thêm các TLD phổ biến khác vào cột 1
                commonTLDs.forEach(tld => {
                    const domain = keyword + tld;
                    // Tránh trùng .com.com, .vn.vn và kiểm tra hợp lệ
                    if (!domain.endsWith(tld + tld) && !domain.includes('--')) {
                         col1Domains.add(domain);
                    }
                });
                
                const col1DomainsArray = Array.from(col1Domains); // Chuyển Set thành Array để xử lý tiếp

                // Hiển thị cột 1
                if (col1DomainsArray.length > 0) {
                     col1DomainsArray.forEach(domain => {
                         const div = document.createElement('div');
                         div.className = 'suggestion-item';
                         div.innerHTML = `
                            <span class="domain-name">${domain}</span>
                            <button data-domain="${domain}" class="register-suggestion-btn open-register-modal">Đăng ký</button>
                         `;
                         col1ResultsDiv.appendChild(div);
                     });
                 } else {
                     col1ResultsDiv.innerHTML = '<p class="text-center text-gray-500 p-4">Không có kết quả trực tiếp hợp lệ.</p>';
                 }


                // Tạo gợi ý cột 2
                const smartSuggestions = generateSmartSuggestions(keyword, industry);
                const suggestionsByTLD = {};

                smartSuggestions.forEach(domain => {
                     // Bỏ qua nếu đã có trong cột 1
                    if(col1DomainsArray.includes(domain)) return;

                    let tldGroup = 'Khác'; 
                    // Ưu tiên các TLD dài hơn trước để phân loại đúng (vd: .com.vn trước .vn)
                    const sortedTLDs = [...commonTLDs, ...vnTLDs].sort((a, b) => b.length - a.length); 
                    for (const tld of sortedTLDs) { 
                        if (domain.endsWith(tld)) {
                            tldGroup = tld;
                            break;
                        }
                    }
                    
                    if (!suggestionsByTLD[tldGroup]) {
                        suggestionsByTLD[tldGroup] = [];
                    }
                    // Tránh thêm trùng lặp vào cùng 1 nhóm
                    if (!suggestionsByTLD[tldGroup].includes(domain)) {
                        suggestionsByTLD[tldGroup].push(domain);
                    }
                });

                 // Hiển thị cột 2 (Tabs và Content)
                 const sortedTLDGroups = Object.keys(suggestionsByTLD).sort((a, b) => {
                     // Ưu tiên .com, .vn lên đầu
                     const priority = ['.com', '.vn', '.com.vn'];
                     const aPrio = priority.indexOf(a);
                     const bPrio = priority.indexOf(b);
                     if (aPrio !== -1 && bPrio !== -1) return aPrio - bPrio; // Cả 2 ưu tiên -> sắp xếp theo thứ tự ưu tiên
                     if (aPrio !== -1) return -1; // Chỉ a ưu tiên -> a lên trước
                     if (bPrio !== -1) return 1;  // Chỉ b ưu tiên -> b lên trước
                     return a.localeCompare(b); // Không ưu tiên -> sắp xếp theo alphabet
                 });

                 if(sortedTLDGroups.length > 0) {
                    col2ContentDiv.innerHTML = ''; // Xóa placeholder trước khi thêm tab
                    sortedTLDGroups.forEach((tldGroup, index) => {
                         // Chỉ tạo tab nếu nhóm đó có gợi ý
                         if (suggestionsByTLD[tldGroup] && suggestionsByTLD[tldGroup].length > 0) {
                             // Tạo Tab Button
                             const tabButton = document.createElement('button');
                             tabButton.className = `tab-btn ${index === 0 ? 'active' : ''}`;
                             tabButton.dataset.tab = `tab-${tldGroup.replace(/\./g, '')}`; // ID hợp lệ
                             tabButton.textContent = tldGroup.toUpperCase();
                             col2TabsDiv.appendChild(tabButton);

                             // Tạo Tab Content Div
                             const tabContent = document.createElement('div');
                             tabContent.id = `tab-${tldGroup.replace(/\./g, '')}`;
                             tabContent.className = `tab-content ${index === 0 ? 'active' : ''}`;
                             
                             suggestionsByTLD[tldGroup].forEach(domain => {
                                 const div = document.createElement('div');
                                 div.className = 'suggestion-item';
                                 div.innerHTML = `
                                    <span class="domain-name">${domain}</span>
                                    <button data-domain="${domain}" class="register-suggestion-btn open-register-modal">Đăng ký</button>
                                 `;
                                 tabContent.appendChild(div);
                             });
                             col2ContentDiv.appendChild(tabContent);
                         }
                    });

                    // Thêm sự kiện chuyển tab (chỉ nếu có tab được tạo)
                    if (col2TabsDiv.hasChildNodes()) {
                        col2TabsDiv.querySelectorAll('.tab-btn').forEach(button => {
                             button.addEventListener('click', () => {
                                 col2TabsDiv.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
                                 col2ContentDiv.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                                 button.classList.add('active');
                                 const targetContent = document.getElementById(button.dataset.tab);
                                 if (targetContent) targetContent.classList.add('active');
                             });
                         });
                    } else {
                         col2ContentDiv.innerHTML = '<p class="text-center text-gray-500 p-4">Không có gợi ý nào khác.</p>';
                    }

                 } else {
                     col2ContentDiv.innerHTML = '<p class="text-center text-gray-500 p-4">Không có gợi ý nào khác.</p>';
                 }


                // Gắn lại sự kiện mở modal cho tất cả các nút đăng ký mới
                attachModalOpenListeners();
            }


            if(searchDomainButton && domainInput && suggestionResultsArea) {
                searchDomainButton.addEventListener('click', () => {
                    const rawInput = domainInput.value;
                    const industry = industryInput.value;
                    
                    if (!rawInput.trim()) {
                        suggestionResultsArea.classList.remove('hidden');
                        col1ResultsDiv.innerHTML = '<p class="text-center text-gray-500 p-4">Vui lòng nhập tên miền hoặc từ khóa.</p>';
                        col2TabsDiv.innerHTML = '';
                        col2ContentDiv.innerHTML = '<p class="text-center text-gray-500 p-4"></p>';
                        return;
                    }

                    // Tách tên miền và TLD nếu người dùng nhập cả hai
                    let baseKeywordRaw = rawInput;
                    let userTLD = null;
                    const lastDotIndex = rawInput.lastIndexOf('.');
                    // Chỉ tách TLD nếu dấu '.' không phải là ký tự đầu tiên và có ký tự sau nó
                    if (lastDotIndex > 0 && lastDotIndex < rawInput.length - 1) { 
                         const potentialTLD = rawInput.substring(lastDotIndex).toLowerCase();
                         // Kiểm tra TLD hợp lệ (có trong danh sách hoặc cấu trúc .xx.yy)
                         const isValidTLD = commonTLDs.includes(potentialTLD) || vnTLDs.includes(potentialTLD) || /^\.[a-z]{2,}(\.[a-z]{2})?$/.test(potentialTLD);
                         
                         if (isValidTLD) {
                            // Kiểm tra thêm để tránh tách sai ví dụ 'abc.co.ltd' thành 'abc.co' và '.ltd'
                            const potentialBase = rawInput.substring(0, lastDotIndex);
                            if (potentialBase && !potentialBase.endsWith('.')) { // Phần base không được kết thúc bằng '.'
                                userTLD = potentialTLD;
                                baseKeywordRaw = potentialBase;
                            }
                         }
                    }

                    // Xử lý keyword sau khi đã tách TLD (nếu có)
                    const processedKeyword = processKeyword(baseKeywordRaw);

                    if (!processedKeyword) {
                        suggestionResultsArea.classList.remove('hidden');
                        col1ResultsDiv.innerHTML = '<p class="text-center text-gray-500 p-4">Từ khóa không hợp lệ.</p>';
                         col2TabsDiv.innerHTML = '';
                        col2ContentDiv.innerHTML = '<p class="text-center text-gray-500 p-4"></p>';
                        return;
                    }
                    
                    suggestionResultsArea.classList.remove('hidden'); // Hiển thị khu vực kết quả
                    col1ResultsDiv.innerHTML = '<p class="text-center text-gray-500 p-4">Đang tải...</p>'; // Loading
                    col2TabsDiv.innerHTML = '';
                    col2ContentDiv.innerHTML = '<p class="text-center text-gray-500 p-4">Đang tải...</p>'; // Loading

                    // Giả lập độ trễ (nếu cần API thực tế thì thay thế chỗ này)
                    setTimeout(() => {
                         displayResults(processedKeyword, industry, userTLD);
                    }, 300); // 0.3 giây

                });
            }
            // === HẾT SCRIPT GỢI Ý TÊN MIỀN ===

            // === SCRIPT MỞ/ĐÓNG MODAL ĐĂNG KÝ ===
            const registerModal = document.getElementById('registerModal');
            const closeModalButtons = document.querySelectorAll('.close-register-modal');
            const successMessage = document.getElementById('success-message');

            function openModal(domainToRegister = null) {
                if (registerModal) {
                    if (domainToRegister && modalMessageTextarea) {
                        modalMessageTextarea.value = `Tôi muốn đăng ký tên miền: ${domainToRegister}`;
                    } else if (modalMessageTextarea) {
                         // Nếu mở từ nút chung, để trống
                        modalMessageTextarea.value = ''; 
                        modalMessageTextarea.placeholder = 'Bạn cần tư vấn thêm về tên miền nào?';
                    }
                    registerModal.style.display = 'block';
                    lucide.createIcons(); 
                }
            }

            function closeModal() {
                 if (registerModal) {
                    registerModal.style.display = 'none';
                    if (modalMessageTextarea) {
                        modalMessageTextarea.value = '';
                        modalMessageTextarea.placeholder = 'Ví dụ: Tôi muốn đăng ký tên miền abc.com'; // Reset placeholder
                    }
                }
            }
            
            function attachModalOpenListeners() {
                 // SỬ DỤNG EVENT DELEGATION cho các nút được tạo động
                 const resultsArea = document.getElementById('suggestionResultsArea');
                 const priceTables = document.querySelectorAll('.price-table-container'); // Các nút trong bảng giá

                 const handleOpenClick = (event) => {
                     if (event.target.classList.contains('open-register-modal')) {
                         const domain = event.target.dataset.domain || null; // Lấy domain nếu có
                         openModal(domain);
                     }
                 };

                 if (resultsArea) {
                     resultsArea.removeEventListener('click', handleOpenClick); // Xóa listener cũ (nếu có)
                     resultsArea.addEventListener('click', handleOpenClick); // Gắn listener mới
                 }
                 priceTables.forEach(table => {
                     table.removeEventListener('click', handleOpenClick); // Xóa listener cũ (nếu có)
                     table.addEventListener('click', handleOpenClick); // Gắn listener mới
                 });
            }


            attachModalOpenListeners(); // Gắn listener lần đầu

            closeModalButtons.forEach(button => {
                button.addEventListener('click', closeModal);
            });

            window.addEventListener('click', (event) => {
                if (event.target == registerModal) {
                    closeModal();
                }
            });
            // === HẾT SCRIPT MODAL ===

            // === SCRIPT XỬ LÝ FORM SUBMISSION VÀ PHÁO HOA ===
            const form = document.getElementById('registrationForm');
            const formStatus = document.getElementById('form-status');
            const submitButton = document.getElementById('submitButton');

            if (form && formStatus && submitButton) {
                form.addEventListener('submit', function(event) {
                    event.preventDefault(); 
                    
                    const formData = new FormData(form);
                    submitButton.disabled = true; 
                    formStatus.textContent = 'Đang gửi...';
                    formStatus.className = 'text-center text-sm text-gray-500';

                    fetch(form.action, {
                        method: form.method,
                        body: formData,
                        headers: { 'Accept': 'application/json' }
                    }).then(response => {
                        if (response.ok) {
                            formStatus.textContent = 'Gửi thành công!';
                            formStatus.className = 'text-center text-sm text-green-600';
                            form.reset(); 
                            closeModal(); 

                            if (successMessage) {
                                successMessage.classList.add('show');
                                setTimeout(() => { successMessage.classList.remove('show'); }, 3000); 
                            }

                            if (typeof confetti === 'function') {
                                confetti({ particleCount: 150, spread: 90, origin: { y: 0.6 } });
                            }
                            
                        } else {
                            response.json().then(data => {
                                formStatus.textContent = (data && data.errors) ? data.errors.map(e => e.message).join(", ") : 'Oops! Có lỗi xảy ra.';
                                formStatus.className = 'text-center text-sm text-red-600';
                            }).catch(() => {
                                formStatus.textContent = 'Oops! Lỗi xử lý phản hồi.';
                                formStatus.className = 'text-center text-sm text-red-600';
                            });
                        }
                    }).catch(error => {
                        console.error('Form submission fetch error:', error); 
                        formStatus.textContent = 'Oops! Lỗi mạng khi gửi form.';
                        formStatus.className = 'text-center text-sm text-red-600';
                    }).finally(() => {
                        submitButton.disabled = false; 
                        setTimeout(() => { if (formStatus) formStatus.textContent = ''; }, 5000); 
                       if (modalMessageTextarea) modalMessageTextarea.value = ''; // Luôn xóa textarea
                    });
                });
            } else {
                console.error("Không tìm thấy các thành phần form cần thiết."); 
            }
            // === HẾT SCRIPT FORM SUBMISSION ===

        }); // Đóng DOMContentLoaded
    </script>
</body>
</html>
